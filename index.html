<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>ìŠ¤ë§ˆíŠ¸ ì¢Œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
        /* [ìŠ¤íƒ€ì¼ ì •ì˜] */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
        }

        .app-header {
            text-align: center;
            margin-bottom: 24px;
        }
        .app-title {
            font-size: 22px; font-weight: 800; color: #333; margin: 0;
        }
        .app-subtitle {
            font-size: 14px; color: #666; margin-top: 4px;
        }

        .bottom-footer {
            margin-top: 40px;
            text-align: center;
            padding-bottom: 20px;
            width: 100%;
            max-width: 360px;
        }
        
        /* [ì¶”ê°€ë¨] ë¡¤ë§ ë¬¸êµ¬ ìŠ¤íƒ€ì¼ */
        .nudge-text {
            font-size: 13px;
            color: #666;      
            font-weight: 600; 
            margin-bottom: 12px;
            min-height: 20px; 
            line-height: 1.4;
            padding: 0 10px;
            word-break: keep-all;
            transition: opacity 0.3s;
        }

        .bottom-logo-img {
            max-width: 180px;
            height: auto;
            display: block;
            margin: 0 auto;
            opacity: 0.8;
        }

        .card {
            background: #ffffff;
            padding: 24px 28px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            text-align: center;
            max-width: 360px;
            width: 100%;
            margin-bottom: auto; 
        }
        #id-card, #seat-card { margin-top: auto; }

        .seat-title {
            font-size: 20px; font-weight: 700; margin-bottom: 12px;
        }
        .status {
            font-size: 18px; margin: 16px 0;
        }
        .status span { font-weight: 700; }
        .status-enter { color: #2e7d32; } 
        .status-out { color: #f9a825; }   
        
        .student-line {
            font-size: 16px; margin-top: 4px; border-top: 1px solid #ddd;
            padding-top: 8px; margin-bottom: 12px;
        }
        .student-line span { font-weight: 600; color: #333; }

        .timer-box {
            background: #ffebee; color: #c62828; padding: 8px;
            border-radius: 6px; margin-bottom: 15px; font-weight: bold;
            display: none; 
        }

        .warning-box {
            font-size: 13px; color: #d32f2f; margin-bottom: 10px;
            background: #fff3e0; padding: 6px; border-radius: 4px;
            display: none;
        }

        .btn-row {
            display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;
        }
        button {
            padding: 8px 14px; font-size: 15px; border-radius: 8px;
            border: none; cursor: pointer; transition: background 0.2s;
        }
        .btn-primary { background: #1976d2; color: #fff; }
        .btn-secondary { background: #eeeeee; color: #333; }
        .btn-danger { background: #d32f2f; color: #fff; }
        
        /* í…ŒìŠ¤íŠ¸ìš© ë²„íŠ¼ (ìˆ¨ê¹€ ê°€ëŠ¥) */
        .btn-test { background: #666; color: #fff; font-size: 11px; margin-top: 20px; }

        #idInput {
            width: 100%; padding: 8px 10px; font-size: 16px; margin-bottom: 12px;
            border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box;
        }

        .info { margin-top: 10px; font-size: 11px; color: #666; }
        .error { color: #c62828; font-size: 14px; margin-top: 8px; display: none; }
    </style>
</head>
<body>

    <div class="app-header">
        <h1 class="app-title">ì„¸ì¢…ëŒ€í•™êµ í•™ìˆ ì •ë³´ì› ì—´ëŒì‹¤</h1>
        <p class="app-subtitle">ìŠ¤ë§ˆíŠ¸ ì¢Œì„ ë°°ì • ì‹œìŠ¤í…œ</p>
    </div>

    <div class="card" id="id-card">
        <div id="seat-title-form" class="seat-title">ì¢Œì„ ì •ë³´ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
        
        <input id="idInput" type="text" maxlength="8" inputmode="numeric" placeholder="í•™ë²ˆ 8ìë¦¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”" />
        
        <button id="idSubmit" class="btn-primary">ë¡œê·¸ì¸ / ì¢Œì„ ë°°ì •</button>
        <div id="idError" class="error"></div>
        <div class="info">ì„¸ì¢…ëŒ€ìƒ 98%ê°€ ì§€í‚¤ëŠ” ë§¤ë„ˆ,<br>í‡´ì‹¤ ì²˜ë¦¬ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.</div>
    </div>

    <div class="card" id="seat-card" style="display:none;">
        <div id="seat-title" class="seat-title"></div>

        <div class="student-line">
            ì‚¬ìš©ì: <span id="student-id-text">-</span>
        </div>

        <div id="warning-display" class="warning-box">
            âš ï¸ ëˆ„ì  ê²½ê³ : <span id="warning-count">0</span>íšŒ (3íšŒì‹œ ê°•ì œ í‡´ì‹¤)
        </div>

        <div id="status" class="status">ìƒíƒœ: <span>ì…ì‹¤ ì¤‘</span></div>

        <div id="out-timer-box" class="timer-box">
            ì™¸ì¶œ ì‹œê°„: <span id="timer-text">00:00:00</span>
            <div style="font-size:11px; font-weight:normal; margin-top:4px;">
                (3ì‹œê°„ ì´ˆê³¼ ì‹œ ê²½ê³  1íšŒ)
            </div>
        </div>

        <div class="btn-row">
            <div id="controls-in" style="display:block;">
                <button class="btn-secondary" id="btn-go-out">ì™¸ì¶œ í•˜ê¸°</button>
                <button class="btn-danger" id="btn-leave">í‡´ì‹¤ (ì‚¬ìš© ì¢…ë£Œ)</button>
            </div>
            <div id="controls-out" style="display:none;">
                <button class="btn-primary" id="btn-return">ë³µê·€ (ì™¸ì¶œ ì¢…ë£Œ)</button>
                <button class="btn-danger" id="btn-leave-out">ë°”ë¡œ í‡´ì‹¤</button>
            </div>
        </div>

        <button id="btn-test-add-time" class="btn-test" style="display:none;">
            [í…ŒìŠ¤íŠ¸] ì™¸ì¶œ ì‹œê°„ +3ì‹œê°„ ì¶”ê°€
        </button>

        <div class="info">í‡´ì‹¤ ì‹œ ì´ˆê¸° í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤.</div>
    </div>

    <div class="bottom-footer">
        <div id="footer-msg" class="nudge-text"></div>
        
        <img src="Sejong-University.png" alt="Sejong University Logo" class="bottom-logo-img" />
    </div>


<script>
    // ============================================================
    // [ì„¤ì •] ìƒìˆ˜ëŠ” ì—¬ê¸°ì„œ ê´€ë¦¬í•˜ì„¸ìš”
    // ============================================================
    const WARNING_LIMIT_MS = 3 * 60 * 60 * 1000; // 3ì‹œê°„ (ì™¸ì¶œ ì œí•œ)
    const BAN_DURATION_MS = 14 * 24 * 60 * 60 * 1000; // 2ì£¼ (ì´ìš© ì •ì§€)
    
    // [ì„¤ì •] í•˜ë‹¨ ë¡¤ë§ ë¬¸êµ¬ ë¦¬ìŠ¤íŠ¸ (ì›í•˜ëŠ” ë§Œí¼ ì¶”ê°€í•˜ì„¸ìš”)
    const nudgeMessages = [
        "ì„¸ì¢…ëŒ€ìƒ 95%ëŠ” ì™¸ì¶œ 3ì‹œê°„ ì•½ì†ì„ ì •í™•íˆ ì§€í‚µë‹ˆë‹¤.",
        "ì§€ê¸ˆ ë‹¹ì‹ ì˜ ë°°ë ¤ê°€, ë„ì„œê´€ ë¬¸í™”ë¥¼ ë§Œë“­ë‹ˆë‹¤.",
        "ë¹ˆìë¦¬ëŠ” ì§ì´ ì•„ë‹ˆë¼, ë‹¤ìŒ ì‚¬ëŒì—ê²Œ ì–‘ë³´í•´ ì£¼ì„¸ìš”.",
        "ì§€ë‚œë‹¬, 1,200ëª…ì˜ í•™ìš°ê°€ í‡´ì‹¤ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë°°ë ¤í–ˆìŠµë‹ˆë‹¤.",
        "ì´ ìë¦¬ëŠ” ë‚´ì¼ì˜ ë‹¹ì‹ ì´ ë‹¤ì‹œ ì•‰ê³  ì‹¶ì–´ í•  ìë¦¬ì…ë‹ˆë‹¤."
    ];

    // ============================================================
    // [ë¡œì§ 1] ë¡¤ë§ ë¬¸êµ¬ ì‹¤í–‰ (Cì–¸ì–´ ë°°ì—´ ìˆœíšŒì™€ ë™ì¼)
    // ============================================================
    let msgIndex = 0;
    const msgElement = document.getElementById("footer-msg");

    function rotateMessage() {
        if(nudgeMessages.length > 0) {
            msgElement.textContent = nudgeMessages[msgIndex];
            // 0 -> 1 -> 2 -> ... -> 0 (ë¬´í•œ ë°˜ë³µ)
            msgIndex = (msgIndex + 1) % nudgeMessages.length;
        }
    }
    // ìµœì´ˆ ì‹¤í–‰ ë° 4ì´ˆë§ˆë‹¤ ë°˜ë³µ
    rotateMessage(); 
    setInterval(rotateMessage, 4000);


    // ============================================================
    // [ë¡œì§ 2] ì ‘ì† ì •ë³´ í™•ì¸ ë° ì¤‘ë³µ ë¡œê·¸ì¸ ë°©ì§€
    // ============================================================
    const params = new URLSearchParams(window.location.search);
    const seatNum = params.get("seat");
    const activeSeat = localStorage.getItem("device_active_seat");

    // "ë‹¤ë¥¸ ìë¦¬(1ë²ˆ) ë¡œê·¸ì¸ ì¤‘ì¸ë°, ì§€ê¸ˆ 2ë²ˆ ìë¦¬ ì£¼ì†Œë¡œ ë“¤ì–´ì™”ë„¤? -> íŠ•ê²¨ë‚´ê¸°"
    if (activeSeat && seatNum && activeSeat !== seatNum) {
        alert(`ğŸš« ì˜¤ë¥˜: ì´ë¯¸ ${activeSeat}ë²ˆ ì¢Œì„ì„ ì´ìš© ì¤‘ì…ë‹ˆë‹¤!\n\ní•´ë‹¹ ì¢Œì„ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™í•©ë‹ˆë‹¤.`);
        window.location.href = `?seat=${activeSeat}`;
        throw new Error("Redirecting..."); // ìŠ¤í¬ë¦½íŠ¸ ê°•ì œ ì¤‘ë‹¨
    }

    // ============================================================
    // [ë¡œì§ 3] DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸° (ë³€ìˆ˜ ì—°ê²°)
    // ============================================================
    const idCard = document.getElementById("id-card");
    const seatCard = document.getElementById("seat-card");
    const idInputEl = document.getElementById("idInput");
    const idErrorEl = document.getElementById("idError");
    const seatTitleFormEl = document.getElementById("seat-title-form");
    const seatTitleEl = document.getElementById("seat-title");
    
    const studentIdTextEl = document.getElementById("student-id-text");
    const warningCountEl = document.getElementById("warning-count");
    const statusTextEl = document.querySelector("#status span");
    const timerBox = document.getElementById("out-timer-box");
    const timerText = document.getElementById("timer-text");
    const warningDisplay = document.getElementById("warning-display");

    const controlsIn = document.getElementById("controls-in");
    const controlsOut = document.getElementById("controls-out");

    let currentId = "";
    let timerInterval = null;

    // ============================================================
    // [ë¡œì§ 4] ì´ˆê¸° í™”ë©´ ì„¸íŒ…
    // ============================================================
    if (!seatNum) {
        seatTitleFormEl.textContent = "ì¢Œì„ ë²ˆí˜¸ ì˜¤ë¥˜";
        idErrorEl.style.display = "block";
        idErrorEl.textContent = "URLì— ?seat=ë²ˆí˜¸ í˜•ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤.";
        document.getElementById("idSubmit").disabled = true;
    } else {
        seatTitleFormEl.textContent = `${seatNum}ë²ˆ ì¢Œì„ ë¡œê·¸ì¸`;
        seatTitleEl.textContent = `${seatNum}ë²ˆ ì¢Œì„ ê´€ë¦¬`;

        // ì´ ìë¦¬ì— ëˆ„ê°€ ì•‰ì•„ìˆë‹¤ê³  ì €ì¥ë˜ì–´ ìˆë‚˜?
        const savedId = localStorage.getItem(`seat_${seatNum}_studentId`);
        if (savedId) {
            login(savedId);
        }
    }

    // ============================================================
    // [ë¡œì§ 5] ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ë²„íŠ¼ í´ë¦­ ë™ì‘)
    // ============================================================
    
    // 1. ë¡œê·¸ì¸ ë²„íŠ¼
    document.getElementById("idSubmit").addEventListener("click", () => {
        const inputId = idInputEl.value.trim();
        
        if (!inputId) { showError("í•™ë²ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
        if (!/^\d{8}$/.test(inputId)) { showError("í•™ë²ˆì€ ìˆ«ì 8ìë¦¬ì—¬ì•¼ í•©ë‹ˆë‹¤."); return; }
        
        // ë¸”ë™ë¦¬ìŠ¤íŠ¸ í™•ì¸
        const banInfo = getStudentBanInfo(inputId);
        if (banInfo.isBanned) {
            showError(`ì´ìš© ì •ì§€ëœ ì‚¬ìš©ìì…ë‹ˆë‹¤.\ní•´ì œì¼: ${banInfo.date}`);
            return;
        }

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        localStorage.setItem(`seat_${seatNum}_studentId`, inputId);
        localStorage.setItem("device_active_seat", seatNum); // ê¸°ê¸° ì ìœ  ì„¤ì •
        login(inputId);
    });

    // 2. ì™¸ì¶œ ë²„íŠ¼
    document.getElementById("btn-go-out").addEventListener("click", setOutStatus);

    // 3. ë³µê·€ ë²„íŠ¼ (ì™¸ì¶œ ì¢…ë£Œ)
    document.getElementById("btn-return").addEventListener("click", () => {
        checkOutDurationAndProcess(); // ì‹œê°„ ì´ˆê³¼í–ˆëŠ”ì§€ ê²€ì‚¬
        setInStatus(); 
    });

    // 4. í‡´ì‹¤ ë²„íŠ¼ (ì…ì‹¤ ì¤‘ì¼ ë•Œ) - [ìˆ˜ì •ë¨: ë„›ì§€ íŒì—… ì ìš©]
    document.getElementById("btn-leave").addEventListener("click", () => {
        const userCheck = confirm(
            "ì ê¹! í‡´ì‹¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n" +
            "ë‹¹ì‹ ì˜ 'í‡´ì‹¤' ë²„íŠ¼ í•œ ë²ˆì´,\n" +
            "ì‹œí—˜ ê¸°ê°„ ì¹œêµ¬ì—ê²ŒëŠ” í° 'ê¸°íšŒ'ê°€ ë©ë‹ˆë‹¤.\n\n" +
            "ì •ë§ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
        );
        if (userCheck) logout(true);
    });

    // 5. ë°”ë¡œ í‡´ì‹¤ ë²„íŠ¼ (ì™¸ì¶œ ì¤‘ì¼ ë•Œ) - [ìˆ˜ì •ë¨: ë„›ì§€ íŒì—… ì ìš©]
    document.getElementById("btn-leave-out").addEventListener("click", () => {
        checkOutDurationAndProcess(); // ê²½ê³  ì¤„ ê±´ ì£¼ê³  í‡´ì‹¤
        if (currentId) {
            const userCheck = confirm(
                "ì™¸ì¶œ ìƒíƒœì—ì„œ ë°”ë¡œ í‡´ì‹¤í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n" +
                "ë¹ˆìë¦¬ëŠ” ë‹¤ìŒ í•™ìš°ë¥¼ ìœ„í•´ ì†Œì¤‘íˆ ì‚¬ìš©ë©ë‹ˆë‹¤.\n" +
                "ì •ë§ ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
            );
            if (userCheck) logout(true);
        }
    });

    // 6. í…ŒìŠ¤íŠ¸ ë²„íŠ¼
    document.getElementById("btn-test-add-time").addEventListener("click", () => {
        const outStartKey = `seat_${seatNum}_outStartTime`;
        let startTime = parseInt(localStorage.getItem(outStartKey));
        if (startTime) {
            // 3ì‹œê°„ 1ë¶„ ì „ìœ¼ë¡œ ì‹œê°„ ì¡°ì‘
            const newStartTime = startTime - (3 * 60 * 60 * 1000) - (60 * 1000); 
            localStorage.setItem(outStartKey, newStartTime);
            alert("í…ŒìŠ¤íŠ¸: ì™¸ì¶œ ì‹œê°„ì„ ê°•ì œë¡œ 3ì‹œê°„ ëŠ˜ë ¸ìŠµë‹ˆë‹¤.");
        } else {
            alert("ì™¸ì¶œ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤.");
        }
    });


    // ============================================================
    // [í•¨ìˆ˜ ì •ì˜] í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
    // ============================================================
    
    function login(id) {
        currentId = id;
        idInputEl.value = "";
        idErrorEl.style.display = "none";
        
        idCard.style.display = "none";
        seatCard.style.display = "block";
        studentIdTextEl.textContent = currentId;

        updateWarningDisplay();

        const savedStatus = localStorage.getItem(`seat_${seatNum}_status`) || "ì…ì‹¤";
        if (savedStatus === "ì™¸ì¶œ") {
            resumeOutStatus();
        } else {
            setInStatus(false);
        }
    }

    function logout(showAlert = false) {
        localStorage.removeItem(`seat_${seatNum}_studentId`);
        localStorage.removeItem(`seat_${seatNum}_status`);
        localStorage.removeItem(`seat_${seatNum}_outStartTime`);
        
        // ê¸°ê¸° ì ìœ  í•´ì œ
        localStorage.removeItem("device_active_seat");
        
        if (timerInterval) clearInterval(timerInterval);
        currentId = "";

        seatCard.style.display = "none";
        idCard.style.display = "block";
        
        if (showAlert) alert("í‡´ì‹¤ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì´ìš©í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.");
    }

    function setInStatus(save = true) {
        if(save) localStorage.setItem(`seat_${seatNum}_status`, "ì…ì‹¤");
        localStorage.removeItem(`seat_${seatNum}_outStartTime`);
        
        statusTextEl.textContent = "ì…ì‹¤ ì¤‘";
        statusTextEl.className = "status-enter";
        
        controlsIn.style.display = "block";
        controlsOut.style.display = "none";
        timerBox.style.display = "none";
        
        if (timerInterval) clearInterval(timerInterval);
    }

    function setOutStatus() {
        const now = Date.now();
        localStorage.setItem(`seat_${seatNum}_status`, "ì™¸ì¶œ");
        localStorage.setItem(`seat_${seatNum}_outStartTime`, now);
        resumeOutStatus();
    }

    function resumeOutStatus() {
        statusTextEl.textContent = "ì™¸ì¶œ ì¤‘";
        statusTextEl.className = "status-out";
        controlsIn.style.display = "none";
        controlsOut.style.display = "block";
        timerBox.style.display = "block";
        
        if (timerInterval) clearInterval(timerInterval);
        timerInterval = setInterval(updateTimer, 1000);
        updateTimer();
    }

    function updateTimer() {
        const startTime = parseInt(localStorage.getItem(`seat_${seatNum}_outStartTime`));
        if (!startTime) return;

        const now = Date.now();
        const diff = now - startTime;
        
        // ì‹œ:ë¶„:ì´ˆ ê³„ì‚°
        const hours = Math.floor(diff / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        const fmt = (n) => n.toString().padStart(2, '0');
        
        timerText.textContent = `${fmt(hours)}:${fmt(minutes)}:${fmt(seconds)}`;
        
        // 3ì‹œê°„ ë„˜ìœ¼ë©´ ë¹¨ê°„ìƒ‰ ê°•ì¡°
        if (diff > WARNING_LIMIT_MS) {
            timerText.style.color = "red";
            timerText.style.fontWeight = "900";
        } else {
            timerText.style.color = "#c62828";
        }
    }

    function checkOutDurationAndProcess() {
        const startTime = parseInt(localStorage.getItem(`seat_${seatNum}_outStartTime`));
        if (!startTime) return;

        const diff = Date.now() - startTime;
        if (diff > WARNING_LIMIT_MS) {
            addWarning(currentId);
        }
    }

    // ë¸”ë™ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ
    function getStudentBanInfo(id) {
        const banDateStr = localStorage.getItem(`student_${id}_banDate`);
        if (banDateStr) {
            const banDate = new Date(parseInt(banDateStr));
            if (new Date() < banDate) {
                return { isBanned: true, date: banDate.toLocaleDateString() };
            } else {
                // ê¸°ê°„ ì§€ë‚¬ìœ¼ë©´ í•´ì œ
                localStorage.removeItem(`student_${id}_banDate`);
                localStorage.removeItem(`student_${id}_warnings`);
            }
        }
        return { isBanned: false };
    }

    // ê²½ê³  ë¶€ì—¬ ë¡œì§
    function addWarning(id) {
        let warnings = parseInt(localStorage.getItem(`student_${id}_warnings`) || "0");
        warnings++;
        localStorage.setItem(`student_${id}_warnings`, warnings);

        if (warnings >= 3) {
            const banEndDate = Date.now() + BAN_DURATION_MS;
            localStorage.setItem(`student_${id}_banDate`, banEndDate);
            
            alert(`ğŸš¨ ê²½ê³  3íšŒ ëˆ„ì !\nê·œì •ì— ë”°ë¼ 2ì£¼ê°„ ì´ìš©ì´ ì •ì§€ë˜ë©°, ì¦‰ì‹œ ê°•ì œ í‡´ì‹¤ë©ë‹ˆë‹¤.`);
            logout(false);
        } else {
            alert(`[ê²½ê³  ì•Œë¦¼] ì™¸ì¶œ 3ì‹œê°„ ì´ˆê³¼.\ní˜„ì¬ ëˆ„ì  ê²½ê³ : ${warnings}íšŒ (3íšŒì‹œ ì •ì§€)`);
            updateWarningDisplay();
        }
    }

    function updateWarningDisplay() {
        const warnings = localStorage.getItem(`student_${currentId}_warnings`) || "0";
        warningCountEl.textContent = warnings;
        warningDisplay.style.display = "block";
    }

    function showError(msg) {
        idErrorEl.textContent = msg;
        idErrorEl.style.display = "block";
    }

</script>
</body>
</html>
